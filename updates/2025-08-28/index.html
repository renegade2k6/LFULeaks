<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LFU Informer - LFU Leaks</title>
<style>
:root{--bg:#0b0d10;--fg:#e6e9ef;--muted:#9aa4b2;--card:#111318;--accent:#6aa2ff;--add:#15351b;--del:#3a1b1b;--ctx:#1a1d23;}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--fg);font:14px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial}
a{color:var(--accent);text-decoration:none}
header{position:sticky;top:0;background:linear-gradient(180deg,#0b0d10,rgba(11,13,16,0.95));backdrop-filter:blur(8px);border-bottom:2px solid #6aa2ff;padding:20px 16px;display:flex;align-items:center;z-index:10;box-shadow:0 4px 20px rgba(106,162,255,0.1)}
header h1{font-size:32px;margin:0;font-weight:700;text-shadow:0 2px 10px rgba(106,162,255,0.3);letter-spacing:0.5px;flex:1;text-align:center}
header a{color:var(--accent);text-decoration:none;padding:8px 16px;border:1px solid var(--accent);border-radius:8px;font-weight:600;transition:all 0.2s ease}
header a:hover{background:var(--accent);color:var(--bg);transform:translateY(-1px)}
.container{max-width:1180px;margin:24px auto;padding:0 16px}
.card{background:var(--card);border:1px solid #1b2027;border-radius:14px;padding:16px}
.grid{display:grid;gap:12px}
.grid.images{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}
.thumb{position:relative;border:1px solid #222632;border-radius:10px;overflow:hidden;background:#0c0f14}
.thumb img{width:100%;height:160px;object-fit:contain;background:#0c0f14;display:block}
.caption{font-size:12px;color:var(--muted);padding:6px 4px 8px;text-align:center}
.meta{display:flex;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:12px;margin:8px 0 0}
.toolbar{display:flex;gap:8px;align-items:center;margin-bottom:12px}
select, input[type="search"], button{background:#0e1116;color:var(--fg);border:1px solid #1f2530;border-radius:10px;padding:8px 10px;font:inherit}
button{cursor:pointer}
.toggle{display:inline-flex;border:1px solid #1f2530;border-radius:10px;overflow:hidden}
.toggle button{border:0;border-right:1px solid #1f2530}
.toggle button:last-child{border-right:0}
.toggle .active{background:#152033}
.diff{background:var(--card);border:1px solid #1b2027;border-radius:14px;padding:0;overflow:hidden}
.diff-header{display:flex;gap:8px;align-items:center;padding:12px;border-bottom:1px solid #1b2027}
.diff-body{padding:12px;max-height:65vh;overflow:auto}
.diff-line{white-space:pre-wrap;padding:2px 8px;border-radius:6px;margin:1px 0}
.diff-line.add{background:var(--add)}
.diff-line.del{background:var(--del)}
.diff-line.ctx{background:var(--ctx)}
.empty-state{color:var(--muted);padding:12px}
details.mod-seg summary{cursor:pointer;margin-bottom:8px}
pre.raw{white-space:pre-wrap;font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;background:#0f1218;border:1px solid #1c2130;border-radius:10px;padding:10px}
.tabs{display:flex;gap:8px;margin-bottom:12px}
.tab-btn{padding:8px 12px;border:1px solid #1f2530;border-radius:10px;background:#0e1116;cursor:pointer}
.tab-btn.active{background:#152033}
.lightbox{position:fixed;inset:0;background:rgba(0,0,0,0.9);display:none;align-items:center;justify-content:center;z-index:100}
.lightbox.open{display:flex}
.lightbox img{max-width:92vw;max-height:90vh;object-fit:contain}
.lightbox .cap{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);color:#cbd5e1;font-size:12px;background:rgba(0,0,0,0.5);padding:6px 10px;border-radius:8px}
.searchbar{display:flex;gap:8px;align-items:center}
.kbd{font:12px ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;border:1px solid #2a3140;border-radius:6px;padding:2px 6px;background:#0f1218;color:#aab4c3}
.disclaimer{margin:18px 0;color:var(--fg);font-size:13px;line-height:1.6;border:2px solid #6aa2ff;border-radius:12px;padding:16px;background:linear-gradient(135deg,rgba(106,162,255,0.08),rgba(106,162,255,0.03));text-align:center}
.disclaimer div{margin:0 0 8px 0}
.disclaimer div:last-of-type{margin-bottom:16px}
.patreon-link{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(45deg,#1e88e5,#6aa2ff);color:white!important;text-decoration:none!important;padding:10px 20px;border-radius:8px;font-weight:600;margin-top:16px;transition:all 0.2s ease;border:0}
.patreon-link:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(30,136,229,0.4)}
.patreon-link::before{content:'üíô';margin-right:4px}
.thumb[data-lazy="true"]{display:none}
.thumb img{will-change:transform;contain:layout style paint}
.grid.images{contain:layout}
.pagination-info{display:flex;align-items:center;gap:8px}
.diff-external{text-align:center;padding:20px;margin:10px 0}
.diff-external a{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:linear-gradient(45deg,#1e88e5,#6aa2ff);color:white!important;text-decoration:none;border-radius:8px;font-weight:600;transition:all 0.2s ease}
.diff-external a:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(30,136,229,0.4)}
.tab-btn[title]:hover::after{content:attr(title);position:absolute;bottom:-2em;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.9);color:white;padding:6px 8px;border-radius:6px;font-size:12px;white-space:nowrap;z-index:100;pointer-events:none}
.tab-btn{position:relative}
header h1{background:linear-gradient(135deg,#6aa2ff,#4f89ff,#00d4ff,#6aa2ff);background-size:300% 300%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:gradientShift 4s ease-in-out infinite}
@keyframes gradientShift{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
</style>
</head>
<body>
<header>
  <h1>LFU Informer - LFU Leaks</h1>
</header>
<div class="container">
  <div class="card disclaimer">
    <div>The images and artwork used on this page are displayed strictly for educational, informational, commentary, and news reporting purposes.</div>
    <div>This constitutes Fair Use under Section 107 of the U.S. Copyright Act and similar copyright provisions worldwide.</div>
    <div>This content is not for commercial exploitation, and no ownership of the original works is claimed.</div>
    <div>All intellectual property rights remain with their respective copyright holders.</div>
    <div>If you are a rights holder and believe your content has been misused outside the scope of fair use/fair dealing, please contact me and it will be promptly addressed.</div>
    <a href="https://www.patreon.com/renegade2k6UK" target="_blank" rel="noopener" class="patreon-link">Support LFU Informer on Patreon</a>
  </div>

<div class="card">
  <div class="meta">Images: 48 ¬∑ New lines: 38 ¬∑ Generated: 2025-08-28T05:49:30.890Z</div>
</div>

<div class="tabs">
  <a href="../../index.html" class="tab-btn" style="background:#0a0c0f;border-color:#6aa2ff;color:#6aa2ff">‚Üê Back</a>
  <button class="tab-btn active" data-tab="images">New Images (48)</button>
  <button class="tab-btn" data-tab="diff" title="Differences from last update">Config Diff</button>
</div>

<div id="tab-images">
  <div class="toolbar">
    <div class="searchbar">
      <input type="search" id="imgSearch" placeholder="Filter images (press / to focus)" />
      <span class="kbd">Enter</span>
    </div>
    
  </div>
  <div class="grid images" id="imgGrid">
    
    <div class="thumb" data-name="001.png" >
      <img  src="./assets/001.png" alt="001.png" width="160" height="160" />
      <div class="caption">001.png</div>
    </div>
  
    <div class="thumb" data-name="002.png" >
      <img  src="./assets/002.png" alt="002.png" width="160" height="160" />
      <div class="caption">002.png</div>
    </div>
  
    <div class="thumb" data-name="003.png" >
      <img  src="./assets/003.png" alt="003.png" width="160" height="160" />
      <div class="caption">003.png</div>
    </div>
  
    <div class="thumb" data-name="004.png" >
      <img  src="./assets/004.png" alt="004.png" width="160" height="160" />
      <div class="caption">004.png</div>
    </div>
  
    <div class="thumb" data-name="005.png" >
      <img  src="./assets/005.png" alt="005.png" width="160" height="160" />
      <div class="caption">005.png</div>
    </div>
  
    <div class="thumb" data-name="006.png" >
      <img  src="./assets/006.png" alt="006.png" width="160" height="160" />
      <div class="caption">006.png</div>
    </div>
  
    <div class="thumb" data-name="007.png" >
      <img  src="./assets/007.png" alt="007.png" width="160" height="160" />
      <div class="caption">007.png</div>
    </div>
  
    <div class="thumb" data-name="008.png" >
      <img  src="./assets/008.png" alt="008.png" width="160" height="160" />
      <div class="caption">008.png</div>
    </div>
  
    <div class="thumb" data-name="bg_daditu_qiuri.png" >
      <img  src="./assets/bg_daditu_qiuri.png" alt="bg_daditu_qiuri.png" width="160" height="160" />
      <div class="caption">bg_daditu_qiuri.png</div>
    </div>
  
    <div class="thumb" data-name="bg_qiuri_qrqd.png" >
      <img  src="./assets/bg_qiuri_qrqd.png" alt="bg_qiuri_qrqd.png" width="160" height="160" />
      <div class="caption">bg_qiuri_qrqd.png</div>
    </div>
  
    <div class="thumb" data-name="bg_tedian_shangdianautumn2025.png" >
      <img  src="./assets/bg_tedian_shangdianAutumn2025.png" alt="bg_tedian_shangdianAutumn2025.png" width="160" height="160" />
      <div class="caption">bg_tedian_shangdianAutumn2025.png</div>
    </div>
  
    <div class="thumb" data-name="btn_sh_hong.png" >
      <img  src="./assets/btn_sh_hong.png" alt="btn_sh_hong.png" width="160" height="160" />
      <div class="caption">btn_sh_hong.png</div>
    </div>
  
    <div class="thumb" data-name="btn_sh_lan.png" >
      <img  src="./assets/btn_sh_lan.png" alt="btn_sh_lan.png" width="160" height="160" />
      <div class="caption">btn_sh_lan.png</div>
    </div>
  
    <div class="thumb" data-name="defaultimagealpha0.png" >
      <img  src="./assets/DefaultImageAlpha0.png" alt="DefaultImageAlpha0.png" width="160" height="160" />
      <div class="caption">DefaultImageAlpha0.png</div>
    </div>
  
    <div class="thumb" data-name="icon_daditu_tanglang.png" >
      <img  src="./assets/icon_daditu_tanglang.png" alt="icon_daditu_tanglang.png" width="160" height="160" />
      <div class="caption">icon_daditu_tanglang.png</div>
    </div>
  
    <div class="thumb" data-name="icon_image_qiuri_rukou.png" >
      <img  src="./assets/icon_image_qiuri_rukou.png" alt="icon_image_qiuri_rukou.png" width="160" height="160" />
      <div class="caption">icon_image_qiuri_rukou.png</div>
    </div>
  
    <div class="thumb" data-name="icon_qiuri_qrqd_title.png" >
      <img  src="./assets/icon_qiuri_qrqd_title.png" alt="icon_qiuri_qrqd_title.png" width="160" height="160" />
      <div class="caption">icon_qiuri_qrqd_title.png</div>
    </div>
  
    <div class="thumb" data-name="img_bp_qiuri2025_tab.png" >
      <img  src="./assets/img_bp_qiuri2025_tab.png" alt="img_bp_qiuri2025_tab.png" width="160" height="160" />
      <div class="caption">img_bp_qiuri2025_tab.png</div>
    </div>
  
    <div class="thumb" data-name="img_herotraining_bobbie.png" >
      <img  src="./assets/img_herotraining_Bobbie.png" alt="img_herotraining_Bobbie.png" width="160" height="160" />
      <div class="caption">img_herotraining_Bobbie.png</div>
    </div>
  
    <div class="thumb" data-name="img_morixuanshang_bg_01.png" >
      <img  src="./assets/img_morixuanshang_BG_01.png" alt="img_morixuanshang_BG_01.png" width="160" height="160" />
      <div class="caption">img_morixuanshang_BG_01.png</div>
    </div>
  
    <div class="thumb" data-name="img_morixuanshang_bg_02.png" >
      <img loading="lazy" src="./assets/img_morixuanshang_BG_02.png" alt="img_morixuanshang_BG_02.png" width="160" height="160" />
      <div class="caption">img_morixuanshang_BG_02.png</div>
    </div>
  
    <div class="thumb" data-name="img_morixuanshang_bg_03.png" >
      <img loading="lazy" src="./assets/img_morixuanshang_BG_03.png" alt="img_morixuanshang_BG_03.png" width="160" height="160" />
      <div class="caption">img_morixuanshang_BG_03.png</div>
    </div>
  
    <div class="thumb" data-name="img_qiuri_qrqd_dk01.png" >
      <img loading="lazy" src="./assets/img_qiuri_qrqd_dk01.png" alt="img_qiuri_qrqd_dk01.png" width="160" height="160" />
      <div class="caption">img_qiuri_qrqd_dk01.png</div>
    </div>
  
    <div class="thumb" data-name="img_qiuri_qrqd_dk02.png" >
      <img loading="lazy" src="./assets/img_qiuri_qrqd_dk02.png" alt="img_qiuri_qrqd_dk02.png" width="160" height="160" />
      <div class="caption">img_qiuri_qrqd_dk02.png</div>
    </div>
  
    <div class="thumb" data-name="img_qiuri_qrqd_dk03.png" >
      <img loading="lazy" src="./assets/img_qiuri_qrqd_dk03.png" alt="img_qiuri_qrqd_dk03.png" width="160" height="160" />
      <div class="caption">img_qiuri_qrqd_dk03.png</div>
    </div>
  
    <div class="thumb" data-name="img_qiuri_qrqd_dk04.png" >
      <img loading="lazy" src="./assets/img_qiuri_qrqd_dk04.png" alt="img_qiuri_qrqd_dk04.png" width="160" height="160" />
      <div class="caption">img_qiuri_qrqd_dk04.png</div>
    </div>
  
    <div class="thumb" data-name="img_qiuri_qrqd_dk05.png" >
      <img loading="lazy" src="./assets/img_qiuri_qrqd_dk05.png" alt="img_qiuri_qrqd_dk05.png" width="160" height="160" />
      <div class="caption">img_qiuri_qrqd_dk05.png</div>
    </div>
  
    <div class="thumb" data-name="img_qiuri_qrqd_dk06.png" >
      <img loading="lazy" src="./assets/img_qiuri_qrqd_dk06.png" alt="img_qiuri_qrqd_dk06.png" width="160" height="160" />
      <div class="caption">img_qiuri_qrqd_dk06.png</div>
    </div>
  
    <div class="thumb" data-name="img_qiuri_qrqd_dk07.png" >
      <img loading="lazy" src="./assets/img_qiuri_qrqd_dk07.png" alt="img_qiuri_qrqd_dk07.png" width="160" height="160" />
      <div class="caption">img_qiuri_qrqd_dk07.png</div>
    </div>
  
    <div class="thumb" data-name="img_qiuri_qrqd_dk08.png" >
      <img loading="lazy" src="./assets/img_qiuri_qrqd_dk08.png" alt="img_qiuri_qrqd_dk08.png" width="160" height="160" />
      <div class="caption">img_qiuri_qrqd_dk08.png</div>
    </div>
  
    <div class="thumb" data-name="img_qiuri_qrqd_yeqian.png" >
      <img loading="lazy" src="./assets/img_qiuri_qrqd_yeqian.png" alt="img_qiuri_qrqd_yeqian.png" width="160" height="160" />
      <div class="caption">img_qiuri_qrqd_yeqian.png</div>
    </div>
  
    <div class="thumb" data-name="img_qqhy_juese.png" >
      <img loading="lazy" src="./assets/img_qqhy_juese.png" alt="img_qqhy_juese.png" width="160" height="160" />
      <div class="caption">img_qqhy_juese.png</div>
    </div>
  
    <div class="thumb" data-name="img_tedian_shangdain2025_yeqian.png" >
      <img loading="lazy" src="./assets/img_tedian_shangdain2025_yeqian.png" alt="img_tedian_shangdain2025_yeqian.png" width="160" height="160" />
      <div class="caption">img_tedian_shangdain2025_yeqian.png</div>
    </div>
  
    <div class="thumb" data-name="img_tedian_shangdianautumn.png" >
      <img loading="lazy" src="./assets/img_tedian_shangdianAutumn.png" alt="img_tedian_shangdianAutumn.png" width="160" height="160" />
      <div class="caption">img_tedian_shangdianAutumn.png</div>
    </div>
  
    <div class="thumb" data-name="img_tedian_shangdianautumn2025.png" >
      <img loading="lazy" src="./assets/img_tedian_shangdianAutumn2025.png" alt="img_tedian_shangdianAutumn2025.png" width="160" height="160" />
      <div class="caption">img_tedian_shangdianAutumn2025.png</div>
    </div>
  
    <div class="thumb" data-name="img_wenwu_quality_wenhao.png" >
      <img loading="lazy" src="./assets/img_wenwu_quality_wenhao.png" alt="img_wenwu_quality_wenhao.png" width="160" height="160" />
      <div class="caption">img_wenwu_quality_wenhao.png</div>
    </div>
  
    <div class="thumb" data-name="img_wenwu_quality01.png" >
      <img loading="lazy" src="./assets/img_wenwu_quality01.png" alt="img_wenwu_quality01.png" width="160" height="160" />
      <div class="caption">img_wenwu_quality01.png</div>
    </div>
  
    <div class="thumb" data-name="img_wenwu_quality02.png" >
      <img loading="lazy" src="./assets/img_wenwu_quality02.png" alt="img_wenwu_quality02.png" width="160" height="160" />
      <div class="caption">img_wenwu_quality02.png</div>
    </div>
  
    <div class="thumb" data-name="img_wenwu_quality03.png" >
      <img loading="lazy" src="./assets/img_wenwu_quality03.png" alt="img_wenwu_quality03.png" width="160" height="160" />
      <div class="caption">img_wenwu_quality03.png</div>
    </div>
  
    <div class="thumb" data-name="img_wenwu_quality04.png" >
      <img loading="lazy" src="./assets/img_wenwu_quality04.png" alt="img_wenwu_quality04.png" width="160" height="160" />
      <div class="caption">img_wenwu_quality04.png</div>
    </div>
  
    <div class="thumb" data-name="img_wenwu_zjm_bg03.png" >
      <img loading="lazy" src="./assets/img_wenwu_zjm_bg03.png" alt="img_wenwu_zjm_bg03.png" width="160" height="160" />
      <div class="caption">img_wenwu_zjm_bg03.png</div>
    </div>
  
    <div class="thumb" data-name="img_wenwu_zjm_bg05.png" >
      <img loading="lazy" src="./assets/img_wenwu_zjm_bg05.png" alt="img_wenwu_zjm_bg05.png" width="160" height="160" />
      <div class="caption">img_wenwu_zjm_bg05.png</div>
    </div>
  
    <div class="thumb" data-name="img_xlmzjm_qz1.png" >
      <img loading="lazy" src="./assets/img_xlmzjm_qz1.png" alt="img_xlmzjm_qz1.png" width="160" height="160" />
      <div class="caption">img_xlmzjm_qz1.png</div>
    </div>
  
    <div class="thumb" data-name="img_xlmzjm_qz2.png" >
      <img loading="lazy" src="./assets/img_xlmzjm_qz2.png" alt="img_xlmzjm_qz2.png" width="160" height="160" />
      <div class="caption">img_xlmzjm_qz2.png</div>
    </div>
  
    <div class="thumb" data-name="img_xlmzjm_qz3.png" >
      <img loading="lazy" src="./assets/img_xlmzjm_qz3.png" alt="img_xlmzjm_qz3.png" width="160" height="160" />
      <div class="caption">img_xlmzjm_qz3.png</div>
    </div>
  
    <div class="thumb" data-name="img_xlmzjm_qz4.png" >
      <img loading="lazy" src="./assets/img_xlmzjm_qz4.png" alt="img_xlmzjm_qz4.png" width="160" height="160" />
      <div class="caption">img_xlmzjm_qz4.png</div>
    </div>
  
    <div class="thumb" data-name="img_xlmzjm_qz5.png" >
      <img loading="lazy" src="./assets/img_xlmzjm_qz5.png" alt="img_xlmzjm_qz5.png" width="160" height="160" />
      <div class="caption">img_xlmzjm_qz5.png</div>
    </div>
  
    <div class="thumb" data-name="ui_image_shijietanchuang_qiuri.png" >
      <img loading="lazy" src="./assets/UI_image_shijietanchuang_qiuri.png" alt="UI_image_shijietanchuang_qiuri.png" width="160" height="160" />
      <div class="caption">UI_image_shijietanchuang_qiuri.png</div>
    </div>
  
  </div>
</div>

<div id="tab-diff" style="display:none">
  <div class="diff">
    <div class="diff-header">
      <div class="toggle" id="diffToggle">
        <button data-mode="add" class="active">Additions</button>
        <button data-mode="full">Full</button>
        <button data-mode="raw">Raw</button>
      </div>
      <div class="spacer"></div>
      <input type="search" id="diffSearch" placeholder="Find in diff‚Ä¶" />
    </div>
    <div class="diff-body" id="diffBody" data-mode="add">
      <div data-mode="add"><div class="diff-external"><a href="./diff-add.html" target="_blank">üìÑ View Additions (Large File)</a></div></div>
      <div data-mode="full" style="display:none"><div class="diff-external"><a href="./diff-full.html" target="_blank">üìÑ View Full Diff (Large File)</a></div></div>
      <div data-mode="raw" style="display:none"><div class="diff-external"><a href="./diff-raw.html" target="_blank">üìÑ View Raw Content (Large File)</a></div></div>
    </div>
  </div>
</div>

<div class="lightbox" id="lightbox">
  <img alt="">
  <div class="cap"></div>
</div>

<script>
(function(){
  // Performance optimizations
  const raf = requestAnimationFrame;
  let searchTimeout;
  
  // Tabs
  const tabs = document.querySelectorAll('.tab-btn');
  const tabImages = document.getElementById('tab-images');
  const tabDiff = document.getElementById('tab-diff');
  tabs.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      tabs.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const t = btn.dataset.tab;
      tabImages.style.display = (t==='images') ? '' : 'none';
      tabDiff.style.display = (t==='diff') ? '' : 'none';
    });
  });

  // Optimized lazy loading for images beyond viewport
  const lazyImages = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        if (img.dataset.src) {
          img.src = img.dataset.src;
          img.removeAttribute('data-src');
        }
        lazyImages.unobserve(img);
      }
    });
  }, { rootMargin: '50px' });

  // Initialize lazy loading for images with data-src
  document.querySelectorAll('img[data-src]').forEach(img => lazyImages.observe(img));

  // Load more functionality
  const loadMoreBtn = document.getElementById('loadMore');
  const showingCount = document.getElementById('showingCount');
  let currentlyLoaded = 100;
  
  if (loadMoreBtn) {
    loadMoreBtn.addEventListener('click', () => {
      const hiddenThumbs = [...document.querySelectorAll('.thumb[data-lazy="true"]')].slice(0, 100);
      hiddenThumbs.forEach(thumb => {
        thumb.removeAttribute('data-lazy');
        const img = thumb.querySelector('img[data-src]');
        if (img) lazyImages.observe(img);
      });
      currentlyLoaded += hiddenThumbs.length;
      const totalImages = document.querySelectorAll('.thumb').length;
      showingCount.textContent = `Showing ${currentlyLoaded} of ${totalImages}`;
      if (currentlyLoaded >= totalImages) {
        loadMoreBtn.style.display = 'none';
        showingCount.textContent = `All ${totalImages} images loaded`;
      }
    });
  }

  // Lightbox with preloading
  const lb = document.getElementById('lightbox');
  const lbImg = lb.querySelector('img');
  const lbCap = lb.querySelector('.cap');
  document.getElementById('imgGrid')?.addEventListener('click', e=>{
    const img = e.target.closest('.thumb img');
    if(!img) return;
    const src = img.src || img.dataset.src;
    if (src) {
      lbImg.src = src;
      lbCap.textContent = decodeURIComponent(src.split('/').pop());
      lb.classList.add('open');
    }
  });
  lb.addEventListener('click', ()=>lb.classList.remove('open'));
  document.addEventListener('keydown', e=>{ if(e.key==='Escape') lb.classList.remove('open') });

  // Optimized search with debouncing
  const imgSearch = document.getElementById('imgSearch');
  let allThumbs;
  
  function initSearch() {
    allThumbs = [...document.querySelectorAll('.thumb')];
  }
  
  function performSearch(query) {
    const q = query.trim().toLowerCase();
    let visibleCount = 0;
    allThumbs.forEach(t => {
      const name = t.getAttribute('data-name') || '';
      const isMatch = !q || name.includes(q);
      t.style.display = isMatch ? '' : 'none';
      if (isMatch) visibleCount++;
    });
  }
  
  imgSearch?.addEventListener('input', e => {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(() => {
      if (!allThumbs) initSearch();
      raf(() => performSearch(e.target.value));
    }, 150);
  });
  
  imgSearch?.addEventListener('keydown', e => {
    if (e.key === 'Enter') {
      clearTimeout(searchTimeout);
      if (!allThumbs) initSearch();
      performSearch(e.target.value);
    }
  });

  // Diff mode toggle
  const diffToggle = document.getElementById('diffToggle');
  const diffBody = document.getElementById('diffBody');
  diffToggle?.addEventListener('click', (e)=>{
    const b = e.target.closest('button'); if(!b) return;
    diffToggle.querySelectorAll('button').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    const mode = b.dataset.mode;
    diffBody.dataset.mode = mode;
    diffBody.querySelectorAll('[data-mode]').forEach(sec=>{
      sec.style.display = (sec.getAttribute('data-mode')===mode) ? '' : 'none';
    });
  });

  // Diff search (basic)
  const diffSearch = document.getElementById('diffSearch');
  diffSearch?.addEventListener('change', ()=>{
    const q = diffSearch.value.trim();
    diffBody.querySelectorAll('mark.hl').forEach(n=>n.classList.remove('hl'));
    if(!q) return;
    const sec = diffBody.querySelector('[data-mode="'+diffBody.dataset.mode+'"]');
    const walker = document.createTreeWalker(sec, NodeFilter.SHOW_TEXT);
    const ranges = [];
    while(walker.nextNode()){
      const node = walker.currentNode;
      const idx = node.nodeValue.toLowerCase().indexOf(q.toLowerCase());
      if(idx>=0){
        const range = document.createRange();
        range.setStart(node, idx);
        range.setEnd(node, idx+q.length);
        ranges.push(range);
      }
    }
    ranges.forEach(r=>{
      const mark = document.createElement('mark'); mark.className='hl';
      r.surroundContents(mark);
    });
  });
})();
</script>

</div>
<script>
document.addEventListener('keydown', (e) => {
  if (e.key === '/' && !/input|textarea|select/.test(document.activeElement.tagName.toLowerCase())) {
    const s = document.querySelector('input[type="search"]'); if (s) { e.preventDefault(); s.focus(); s.select(); }
  }
});
</script>
</body>
</html>